<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>SQLProvider allows you to unit-test your SQL-logic
</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="author" content="pezipink,colinbull,thorium">

    <link rel="stylesheet" id="theme_link" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/4.6.0/materia/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-Piv4xVNRyMGpqkS2by6br4gNJ7DXjqk09RmUpJ8jgGtD7zP9yug3goQfGII0yAns" crossorigin="anonymous"></script>

    <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>

    <link rel="shortcut icon" type="image/x-icon" href="https://fsprojects.github.io/SQLProvider//img/favicon.ico">
    <link type="text/css" rel="stylesheet" href="https://fsprojects.github.io/SQLProvider//content/navbar-fixed-right.css" />
    <link type="text/css" rel="stylesheet" href="https://fsprojects.github.io/SQLProvider//content/fsdocs-default.css" />
    <link type="text/css" rel="stylesheet" href="https://fsprojects.github.io/SQLProvider//content/fsdocs-custom.css" />
    <script type="text/javascript" src="https://fsprojects.github.io/SQLProvider//content/fsdocs-tips.js"></script>
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!-- BEGIN SEARCH BOX: this adds support for the search box -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/JavaScript-autoComplete/1.0.4/auto-complete.css" />
    <!-- END SEARCH BOX: this adds support for the search box -->
    
	<style>
		#fsdocs-content li {
			margin: 0px 0px 5px 0px;
		}
		.navbar-nav .nav-link {
			padding-top: 0.2rem;
			padding-bottom: 0.2rem;
		}
	</style>
</head>

<body>
    <nav class="navbar navbar-expand-md navbar-light bg-secondary fixed-right" id="fsdocs-nav">
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExampleDefault" aria-controls="navbarsExampleDefault" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
		
        <div class="collapse navbar-collapse navbar-nav-scroll" id="navbarsExampleDefault">
			<a href="http://github.com/fsprojects/SQLProvider"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://github.blog/wp-content/uploads/2008/12/forkme_right_gray_6d6d6d.png?resize=149%2C149" alt="Fork me on GitHub"></a>
			<div style="height: 105px"></div>

            <ul class="navbar-nav">
                <a href="https://fsprojects.github.io/SQLProvider/"><li class="nav-header" style="text-transform: uppercase">SQLProvider</li></a>
                <li class="nav-item" id="fsdocs-repository-link"><a class="nav-link" href="https://www.nuget.org/packages/SQLProvider">Get Library via NuGet</a></li>
				<li class="nav-item" id="fsdocs-repository-link"><a class="nav-link" href="https://github.com/fsprojects/SQLProvider/">Source Code on GitHub</a></li>
                <li class="nav-item" id="fsdocs-license-link"><a class="nav-link" href="https://github.com/fsprojects/SQLProvider/blob/master/LICENSE.txt">License</a></li>
                <li class="nav-item" id="fsdocs-release-notes-link"><a class="nav-link" href="https://github.com/fsprojects/SQLProvider/blob/master/docs/RELEASE_NOTES.md">Release Notes</a></li>
								
				<li class="nav-header" style="text-transform: uppercase">
					Documentation
				</li>
				<li class="nav-item"><a href="https://fsprojects.github.io/SQLProvider//core/general.html" class="nav-link">General</a></li>
				<li class="nav-item"><a href="https://fsprojects.github.io/SQLProvider//core/parameters.html" class="nav-link">Static Parameters</a></li>
				<li class="nav-item"><a href="https://fsprojects.github.io/SQLProvider//core/querying.html" class="nav-link">Querying</a></li>
				<li class="nav-item"><a href="https://fsprojects.github.io/SQLProvider//core/constraints-relationships.html" class="nav-link">Constraints & Relationships</a></li>
				<li class="nav-item"><a href="https://fsprojects.github.io/SQLProvider//core/crud.html" class="nav-link">CRUD</a></li>
				<li class="nav-item"><a href="https://fsprojects.github.io/SQLProvider//core/programmability.html" class="nav-link">Programmability</a></li>
				<li class="nav-item"><a href="https://fsprojects.github.io/SQLProvider//core/individuals.html" class="nav-link">Individuals</a></li>
				<li class="nav-item"><a href="https://fsprojects.github.io/SQLProvider//core/composable.html" class="nav-link">Composable Query</a></li>
				<li class="nav-item"><a href="https://fsprojects.github.io/SQLProvider//core/mssql.html" class="nav-link">SQL Server</a></li>
				<li class="nav-item"><a href="https://fsprojects.github.io/SQLProvider//core/oracle.html" class="nav-link">Oracle</a></li>
				<li class="nav-item"><a href="https://fsprojects.github.io/SQLProvider//core/sqlite.html" class="nav-link">SQLite</a></li>
				<li class="nav-item"><a href="https://fsprojects.github.io/SQLProvider//core/postgresql.html" class="nav-link">PostgreSQL</a></li>
				<li class="nav-item"><a href="https://fsprojects.github.io/SQLProvider//core/mysql.html" class="nav-link">MySQL</a></li>
				<li class="nav-item"><a href="https://fsprojects.github.io/SQLProvider//core/odbc.html" class="nav-link">ODBC</a></li>
				<li class="nav-item"><a href="https://fsprojects.github.io/SQLProvider//core/unittest.html" class="nav-link">Unit-testing</a></li>
				<li class="nav-item"><a href="https://fsprojects.github.io/SQLProvider//reference/index.html" class="nav-link">Internal API Docs</a></li>

                <li class="nav-header">
  API Reference
</li>             
<li class="nav-item">
  <a class="nav-link" href="https://fsprojects.github.io/SQLProvider/reference/index.html">
    All Namespaces
  </a>
</li>
            </ul>
			
            <!-- BEGIN SEARCH BOX: this adds support for the search box -->
            <div id="header">
                <div class="searchbox" id="fsdocs-searchbox">
                    <label for="search-by">
                        <i class="fas fa-search"></i>
                    </label>
                    <input data-search-input="" id="search-by" type="search" placeholder="Search..." />
                    <span data-search-clear="">
                        <i class="fas fa-times"></i>
                    </span>
                </div>
            </div>

            <!-- END SEARCH BOX: this adds support for the search box -->
        </div>
    </nav>
    <div class="container">
        <div class="masthead">
            <h3 class="muted"><a href="https://fsprojects.github.io/SQLProvider/">SQLProvider</a></h3>
        </div>
        <hr />
        <div class="container" id="fsdocs-content">
            <h1><a name="SQLProvider-allows-you-to-unit-test-your-SQL-logic" class="anchor" href="#SQLProvider-allows-you-to-unit-test-your-SQL-logic">SQLProvider allows you to unit-test your SQL-logic</a></h1>
<p>That's a clear advantage on large-scale projects, where there are multiple developers and
the SQL-queries grow more complex over time.</p>
<ol>
<li>Debugging. Faster to debug unit-test than spin the full environment again and again.</li>
<li>Refactoring: To ensure what the original functionality is actually doing before you modify.</li>
</ol>
<h2><a name="Why-to-unit-test" class="anchor" href="#Why-to-unit-test">Why to unit-test?</a></h2>
<p>F# strong typing provides safety over raw SQL: Instead of your customer finding an issue, your code will not compile if the database shape is wrong,
for example someone removed an important column.</p>
<p>SQLProvider does parametrized SQL, you can watch the executed SQL, and you can even open the parameterized SQL parameters for easier debugging:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span onmouseout="hideTip(event, 'fs4', 30)" onmouseover="showTip(event, 'fs4', 30)" class="id">FSharp</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs5', 31)" onmouseover="showTip(event, 'fs5', 31)" class="id">Data</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs6', 32)" onmouseover="showTip(event, 'fs6', 32)" class="id">Sql</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs9', 33)" onmouseover="showTip(event, 'fs9', 33)" class="id">Common</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs20', 34)" onmouseover="showTip(event, 'fs20', 34)" class="m">QueryEvents</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs21', 35)" onmouseover="showTip(event, 'fs21', 35)" class="id">SqlQueryEvent</span> 
<span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs22', 36)" onmouseover="showTip(event, 'fs22', 36)" class="m">Event</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs23', 37)" onmouseover="showTip(event, 'fs23', 37)" class="id">add</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs24', 38)" onmouseover="showTip(event, 'fs24', 38)" class="fn">e</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs25', 39)" onmouseover="showTip(event, 'fs25', 39)" class="id">System</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs26', 40)" onmouseover="showTip(event, 'fs26', 40)" class="rt">Console</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs27', 41)" onmouseover="showTip(event, 'fs27', 41)" class="id">WriteLine</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs24', 42)" onmouseover="showTip(event, 'fs24', 42)" class="fn">e</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs28', 43)" onmouseover="showTip(event, 'fs28', 43)" class="id">ToRawSqlWithParamInfo</span><span class="pn">(</span><span class="pn">)</span><span class="pn">)</span><span class="pn">)</span>
</code></pre>
<p>But unit-testing is good addition in scenarios where:</p>
<ul>
<li>Your database is very dynamic, and data is changing all the time</li>
<li>You want to ensure the logic working over period of time</li>
<li>You have a big project where build-time takes long</li>
<li>You want Continuous Integration, but your test-data or database is not stable.</li>
</ul>
<h2><a name="How" class="anchor" href="#How">How?</a></h2>
<p>There are 2 helper functions to mock the database connection:</p>
<ul>
<li><code>FSharp.Data.Sql.Common.OfflineTools.CreateMockEntities&lt;'T&gt;</code> - With this you can mock a single table.</li>
<li><code>FSharp.Data.Sql.Common.OfflineTools.CreateMockSqlDataContext&lt;'T&gt;</code> - With this you can mock a context with multiple tables</li>
</ul>
<p>You just feed an anonymous records like they would be database rows.
You don't need to add all the columns, just the ones you use in your query.
But you can add extra-columns for easier asserts.</p>
<h3><a name="Example-executable-business-logic" class="anchor" href="#Example-executable-business-logic">Example, executable business logic</a></h3>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">open</span> <span onmouseout="hideTip(event, 'fs25', 44)" onmouseover="showTip(event, 'fs25', 44)" class="id">System</span>

<span class="k">type</span> <span onmouseout="hideTip(event, 'fs29', 45)" onmouseover="showTip(event, 'fs29', 45)" class="rt">OrderDateFilter</span> <span class="o">=</span>
<span class="pn">|</span> <span onmouseout="hideTip(event, 'fs30', 46)" onmouseover="showTip(event, 'fs30', 46)" class="uc">OrderDate</span>
<span class="pn">|</span> <span onmouseout="hideTip(event, 'fs31', 47)" onmouseover="showTip(event, 'fs31', 47)" class="uc">ShippedDate</span>
<span class="pn">|</span> <span onmouseout="hideTip(event, 'fs32', 48)" onmouseover="showTip(event, 'fs32', 48)" class="uc">Either</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs33', 49)" onmouseover="showTip(event, 'fs33', 49)" class="fn">someProductionFunction</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs34', 50)" onmouseover="showTip(event, 'fs34', 50)" class="fn">ctx</span><span class="pn">:</span><span onmouseout="hideTip(event, 'fs7', 51)" onmouseover="showTip(event, 'fs7', 51)" class="rt">sql</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs35', 52)" onmouseover="showTip(event, 'fs35', 52)" class="id">dataContext</span><span class="pn">)</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs36', 53)" onmouseover="showTip(event, 'fs36', 53)" class="fn">orderType</span><span class="pn">:</span><span onmouseout="hideTip(event, 'fs29', 54)" onmouseover="showTip(event, 'fs29', 54)" class="rt">OrderDateFilter</span><span class="pn">)</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs37', 55)" onmouseover="showTip(event, 'fs37', 55)" class="fn">untilDate</span><span class="pn">:</span><span onmouseout="hideTip(event, 'fs25', 56)" onmouseover="showTip(event, 'fs25', 56)" class="id">System</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs38', 57)" onmouseover="showTip(event, 'fs38', 57)" class="id">DateTime</span><span class="pn">)</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs39', 58)" onmouseover="showTip(event, 'fs39', 58)" class="k">task</span> <span class="pn">{</span>
        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs40', 59)" onmouseover="showTip(event, 'fs40', 59)" class="fn">ignoreOrderDate</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs41', 60)" onmouseover="showTip(event, 'fs41', 60)" class="fn">ignoreShippedDate</span> <span class="o">=</span>
            <span class="k">match</span> <span onmouseout="hideTip(event, 'fs36', 61)" onmouseover="showTip(event, 'fs36', 61)" class="fn">orderType</span> <span class="k">with</span>
            <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs30', 62)" onmouseover="showTip(event, 'fs30', 62)" class="uc">OrderDate</span> <span class="k">-&gt;</span> <span class="k">false</span><span class="pn">,</span> <span class="k">true</span>
            <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs31', 63)" onmouseover="showTip(event, 'fs31', 63)" class="uc">ShippedDate</span> <span class="k">-&gt;</span> <span class="k">true</span><span class="pn">,</span> <span class="k">false</span>
            <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs32', 64)" onmouseover="showTip(event, 'fs32', 64)" class="uc">Either</span> <span class="k">-&gt;</span> <span class="k">false</span><span class="pn">,</span> <span class="k">false</span>

        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs42', 65)" onmouseover="showTip(event, 'fs42', 65)" class="fn">tomorrow</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs37', 66)" onmouseover="showTip(event, 'fs37', 66)" class="fn">untilDate</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs43', 67)" onmouseover="showTip(event, 'fs43', 67)" class="id">AddDays</span><span class="pn">(</span><span class="n">1.</span><span class="pn">)</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs44', 68)" onmouseover="showTip(event, 'fs44', 68)" class="id">Date</span>
        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs45', 69)" onmouseover="showTip(event, 'fs45', 69)" class="fn">someLegacyCondition</span> <span class="o">=</span> <span class="n">0</span> <span class="c">// we don&#39;t need this anymore</span>

        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs46', 70)" onmouseover="showTip(event, 'fs46', 70)" class="fn">itms</span> <span class="o">=</span> 
            <span onmouseout="hideTip(event, 'fs47', 71)" onmouseover="showTip(event, 'fs47', 71)" class="k">query</span> <span class="pn">{</span>
                <span class="k">for</span> <span onmouseout="hideTip(event, 'fs48', 72)" onmouseover="showTip(event, 'fs48', 72)" class="fn">order</span> <span class="k">in</span> <span onmouseout="hideTip(event, 'fs34', 73)" onmouseover="showTip(event, 'fs34', 73)" class="fn">ctx</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs49', 74)" onmouseover="showTip(event, 'fs49', 74)" class="prop">Main</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs50', 75)" onmouseover="showTip(event, 'fs50', 75)" class="id">Orders</span> <span class="k">do</span>
                <span onmouseout="hideTip(event, 'fs51', 76)" onmouseover="showTip(event, 'fs51', 76)" class="k">join</span> <span onmouseout="hideTip(event, 'fs52', 77)" onmouseover="showTip(event, 'fs52', 77)" class="fn">cust</span> <span class="k">in</span> <span onmouseout="hideTip(event, 'fs34', 78)" onmouseover="showTip(event, 'fs34', 78)" class="fn">ctx</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs49', 79)" onmouseover="showTip(event, 'fs49', 79)" class="prop">Main</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs53', 80)" onmouseover="showTip(event, 'fs53', 80)" class="id">Customers</span> <span class="k">on</span> <span class="pn">(</span><span class="fn">order</span><span class="pn">.</span><span class="id">CustomerId</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs52', 81)" onmouseover="showTip(event, 'fs52', 81)" class="fn">cust</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs54', 82)" onmouseover="showTip(event, 'fs54', 82)" class="id">CustomerId</span><span class="pn">)</span>
                <span onmouseout="hideTip(event, 'fs55', 83)" onmouseover="showTip(event, 'fs55', 83)" class="k">where</span> <span class="pn">(</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs52', 84)" onmouseover="showTip(event, 'fs52', 84)" class="fn">cust</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs56', 85)" onmouseover="showTip(event, 'fs56', 85)" class="id">City</span> <span class="o">=</span> <span class="s">&quot;London&quot;</span> <span class="o">||</span> <span onmouseout="hideTip(event, 'fs52', 86)" onmouseover="showTip(event, 'fs52', 86)" class="fn">cust</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs56', 87)" onmouseover="showTip(event, 'fs56', 87)" class="id">City</span> <span class="o">=</span> <span class="s">&quot;Paris&quot;</span> <span class="pn">)</span> <span class="o">&amp;&amp;</span> <span class="pn">(</span>
                    <span class="pn">(</span><span onmouseout="hideTip(event, 'fs40', 88)" onmouseover="showTip(event, 'fs40', 88)" class="fn">ignoreOrderDate</span> <span class="o">||</span> <span onmouseout="hideTip(event, 'fs48', 89)" onmouseover="showTip(event, 'fs48', 89)" class="fn">order</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs57', 90)" onmouseover="showTip(event, 'fs57', 90)" class="id">OrderDate</span> <span class="o">&lt;</span> <span onmouseout="hideTip(event, 'fs42', 91)" onmouseover="showTip(event, 'fs42', 91)" class="fn">tomorrow</span><span class="pn">)</span> <span class="o">&amp;&amp;</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs45', 92)" onmouseover="showTip(event, 'fs45', 92)" class="fn">someLegacyCondition</span> <span class="o">&lt;</span> <span class="n">15</span><span class="pn">)</span><span class="pn">)</span> <span class="o">&amp;&amp;</span>
                    <span class="pn">(</span><span onmouseout="hideTip(event, 'fs41', 93)" onmouseover="showTip(event, 'fs41', 93)" class="fn">ignoreShippedDate</span> <span class="o">||</span> <span onmouseout="hideTip(event, 'fs48', 94)" onmouseover="showTip(event, 'fs48', 94)" class="fn">order</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs58', 95)" onmouseover="showTip(event, 'fs58', 95)" class="id">ShippedDate</span> <span class="o">&lt;</span> <span onmouseout="hideTip(event, 'fs42', 96)" onmouseover="showTip(event, 'fs42', 96)" class="fn">tomorrow</span><span class="pn">)</span> <span class="o">&amp;&amp;</span>
                    <span onmouseout="hideTip(event, 'fs52', 97)" onmouseover="showTip(event, 'fs52', 97)" class="fn">cust</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs54', 98)" onmouseover="showTip(event, 'fs54', 98)" class="id">CustomerId</span> <span class="o">&lt;&gt;</span> <span class="k">null</span> <span class="o">&amp;&amp;</span> <span onmouseout="hideTip(event, 'fs48', 99)" onmouseover="showTip(event, 'fs48', 99)" class="fn">order</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs59', 100)" onmouseover="showTip(event, 'fs59', 100)" class="id">Freight</span> <span class="o">&gt;</span> <span class="n">10m</span> 
                <span class="pn">)</span>
                <span onmouseout="hideTip(event, 'fs60', 101)" onmouseover="showTip(event, 'fs60', 101)" class="k">select</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs52', 102)" onmouseover="showTip(event, 'fs52', 102)" class="fn">cust</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs61', 103)" onmouseover="showTip(event, 'fs61', 103)" class="id">PostalCode</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs48', 104)" onmouseover="showTip(event, 'fs48', 104)" class="fn">order</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs59', 105)" onmouseover="showTip(event, 'fs59', 105)" class="id">Freight</span><span class="pn">)</span>
            <span class="pn">}</span>
        <span class="k">let!</span> <span onmouseout="hideTip(event, 'fs62', 106)" onmouseover="showTip(event, 'fs62', 106)" class="fn">res</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs46', 107)" onmouseover="showTip(event, 'fs46', 107)" class="fn">itms</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs63', 108)" onmouseover="showTip(event, 'fs63', 108)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs64', 109)" onmouseover="showTip(event, 'fs64', 109)" class="id">executeQueryAsync</span>

        <span class="c">//maybe some post-processing here...</span>
        <span class="k">return</span> <span onmouseout="hideTip(event, 'fs62', 110)" onmouseover="showTip(event, 'fs62', 110)" class="fn">res</span>
    <span class="pn">}</span>
</code></pre>
<h3><a name="Example-unit-test-part" class="anchor" href="#Example-unit-test-part">Example, unit-test part</a></h3>
<p>Note: CustomerID, not CustomerId. These are DB-field-names, not nice LINQ names.</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span class="fn">``mock for unit-testing: datacontext``</span><span class="pn">(</span><span class="pn">)</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs39', 111)" onmouseover="showTip(event, 'fs39', 111)" class="k">task</span> <span class="pn">{</span>
        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs65', 112)" onmouseover="showTip(event, 'fs65', 112)" class="fn">sampleDataMap</span> <span class="o">=</span>
            <span class="pn">[</span> <span class="s">&quot;main.Customers&quot;</span><span class="pn">,</span>
                <span class="pn">[|</span>  <span class="pn">{|</span> <span class="prop">CustomerID</span> <span class="o">=</span> <span class="s">&quot;1&quot;</span><span class="pn">;</span> <span class="prop">City</span> <span class="o">=</span> <span class="s">&quot;Paris&quot;</span><span class="pn">;</span>  <span class="prop">PostalCode</span> <span class="o">=</span> <span class="s">&quot;75000&quot;</span><span class="pn">;</span>  <span class="prop">Description</span> <span class="o">=</span> <span class="s">&quot;This is good&quot;</span><span class="pn">;</span>    <span class="pn">|}</span> 
                    <span class="pn">{|</span> <span class="prop">CustomerID</span> <span class="o">=</span> <span class="s">&quot;2&quot;</span><span class="pn">;</span> <span class="prop">City</span> <span class="o">=</span> <span class="s">&quot;London&quot;</span><span class="pn">;</span> <span class="prop">PostalCode</span> <span class="o">=</span> <span class="s">&quot;E143AB&quot;</span><span class="pn">;</span> <span class="prop">Description</span> <span class="o">=</span> <span class="s">&quot;This is good&quot;</span><span class="pn">;</span>    <span class="pn">|}</span>
                    <span class="pn">{|</span> <span class="prop">CustomerID</span> <span class="o">=</span> <span class="s">&quot;3&quot;</span><span class="pn">;</span> <span class="prop">City</span> <span class="o">=</span> <span class="s">&quot;Espoo&quot;</span><span class="pn">;</span>  <span class="prop">PostalCode</span> <span class="o">=</span> <span class="s">&quot;02600&quot;</span><span class="pn">;</span>  <span class="prop">Description</span> <span class="o">=</span> <span class="s">&quot;Ignore this guy&quot;</span><span class="pn">;</span> <span class="pn">|}</span>
                <span class="pn">|]</span> <span class="o">:&gt;</span> <span onmouseout="hideTip(event, 'fs66', 113)" onmouseover="showTip(event, 'fs66', 113)" class="rt">obj</span>
                <span class="s">&quot;main.Orders&quot;</span><span class="pn">,</span>
                <span class="pn">[|</span>  <span class="pn">{|</span> <span class="prop">CustomerID</span> <span class="o">=</span> <span class="s">&quot;1&quot;</span><span class="pn">;</span> <span onmouseout="hideTip(event, 'fs30', 114)" onmouseover="showTip(event, 'fs30', 114)" class="prop">OrderDate</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs38', 115)" onmouseover="showTip(event, 'fs38', 115)" class="fn">DateTime</span><span class="pn">(</span><span class="n">2020</span><span class="pn">,</span><span class="n">01</span><span class="pn">,</span><span class="n">01</span><span class="pn">)</span><span class="pn">;</span> <span onmouseout="hideTip(event, 'fs31', 116)" onmouseover="showTip(event, 'fs31', 116)" class="prop">ShippedDate</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs38', 117)" onmouseover="showTip(event, 'fs38', 117)" class="fn">DateTime</span><span class="pn">(</span><span class="n">2020</span><span class="pn">,</span><span class="n">01</span><span class="pn">,</span><span class="n">04</span><span class="pn">)</span><span class="pn">;</span> <span class="prop">Freight</span> <span class="o">=</span>  <span class="n">4m</span><span class="pn">;</span><span class="pn">|}</span>
                    <span class="pn">{|</span> <span class="prop">CustomerID</span> <span class="o">=</span> <span class="s">&quot;1&quot;</span><span class="pn">;</span> <span onmouseout="hideTip(event, 'fs30', 118)" onmouseover="showTip(event, 'fs30', 118)" class="prop">OrderDate</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs38', 119)" onmouseover="showTip(event, 'fs38', 119)" class="fn">DateTime</span><span class="pn">(</span><span class="n">2021</span><span class="pn">,</span><span class="n">02</span><span class="pn">,</span><span class="n">11</span><span class="pn">)</span><span class="pn">;</span> <span onmouseout="hideTip(event, 'fs31', 120)" onmouseover="showTip(event, 'fs31', 120)" class="prop">ShippedDate</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs38', 121)" onmouseover="showTip(event, 'fs38', 121)" class="fn">DateTime</span><span class="pn">(</span><span class="n">2021</span><span class="pn">,</span><span class="n">02</span><span class="pn">,</span><span class="n">12</span><span class="pn">)</span><span class="pn">;</span> <span class="prop">Freight</span> <span class="o">=</span> <span class="n">22m</span><span class="pn">;</span><span class="pn">|}</span>
                    <span class="pn">{|</span> <span class="prop">CustomerID</span> <span class="o">=</span> <span class="s">&quot;2&quot;</span><span class="pn">;</span> <span onmouseout="hideTip(event, 'fs30', 122)" onmouseover="showTip(event, 'fs30', 122)" class="prop">OrderDate</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs38', 123)" onmouseover="showTip(event, 'fs38', 123)" class="fn">DateTime</span><span class="pn">(</span><span class="n">2022</span><span class="pn">,</span><span class="n">03</span><span class="pn">,</span><span class="n">15</span><span class="pn">)</span><span class="pn">;</span> <span onmouseout="hideTip(event, 'fs31', 124)" onmouseover="showTip(event, 'fs31', 124)" class="prop">ShippedDate</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs38', 125)" onmouseover="showTip(event, 'fs38', 125)" class="fn">DateTime</span><span class="pn">(</span><span class="n">2022</span><span class="pn">,</span><span class="n">03</span><span class="pn">,</span><span class="n">22</span><span class="pn">)</span><span class="pn">;</span> <span class="prop">Freight</span> <span class="o">=</span> <span class="n">20m</span><span class="pn">;</span><span class="pn">|}</span>
                    <span class="pn">{|</span> <span class="prop">CustomerID</span> <span class="o">=</span> <span class="s">&quot;2&quot;</span><span class="pn">;</span> <span onmouseout="hideTip(event, 'fs30', 126)" onmouseover="showTip(event, 'fs30', 126)" class="prop">OrderDate</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs38', 127)" onmouseover="showTip(event, 'fs38', 127)" class="fn">DateTime</span><span class="pn">(</span><span class="n">2024</span><span class="pn">,</span><span class="n">02</span><span class="pn">,</span><span class="n">03</span><span class="pn">)</span><span class="pn">;</span> <span onmouseout="hideTip(event, 'fs31', 128)" onmouseover="showTip(event, 'fs31', 128)" class="prop">ShippedDate</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs38', 129)" onmouseover="showTip(event, 'fs38', 129)" class="fn">DateTime</span><span class="pn">(</span><span class="n">2024</span><span class="pn">,</span><span class="n">02</span><span class="pn">,</span><span class="n">17</span><span class="pn">)</span><span class="pn">;</span> <span class="prop">Freight</span> <span class="o">=</span> <span class="n">50m</span><span class="pn">;</span><span class="pn">|}</span>
                    <span class="pn">{|</span> <span class="prop">CustomerID</span> <span class="o">=</span> <span class="s">&quot;3&quot;</span><span class="pn">;</span> <span onmouseout="hideTip(event, 'fs30', 130)" onmouseover="showTip(event, 'fs30', 130)" class="prop">OrderDate</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs38', 131)" onmouseover="showTip(event, 'fs38', 131)" class="fn">DateTime</span><span class="pn">(</span><span class="n">2024</span><span class="pn">,</span><span class="n">02</span><span class="pn">,</span><span class="n">03</span><span class="pn">)</span><span class="pn">;</span> <span onmouseout="hideTip(event, 'fs31', 132)" onmouseover="showTip(event, 'fs31', 132)" class="prop">ShippedDate</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs38', 133)" onmouseover="showTip(event, 'fs38', 133)" class="fn">DateTime</span><span class="pn">(</span><span class="n">2024</span><span class="pn">,</span><span class="n">02</span><span class="pn">,</span><span class="n">17</span><span class="pn">)</span><span class="pn">;</span> <span class="prop">Freight</span> <span class="o">=</span> <span class="n">15m</span><span class="pn">;</span><span class="pn">|}</span>
                <span class="pn">|]</span> <span class="o">:&gt;</span> <span onmouseout="hideTip(event, 'fs66', 134)" onmouseover="showTip(event, 'fs66', 134)" class="rt">obj</span>

                <span class="pn">]</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs67', 135)" onmouseover="showTip(event, 'fs67', 135)" class="m">Map</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs68', 136)" onmouseover="showTip(event, 'fs68', 136)" class="id">ofList</span>
        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs69', 137)" onmouseover="showTip(event, 'fs69', 137)" class="fn">mockContext</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs4', 138)" onmouseover="showTip(event, 'fs4', 138)" class="id">FSharp</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs5', 139)" onmouseover="showTip(event, 'fs5', 139)" class="id">Data</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs6', 140)" onmouseover="showTip(event, 'fs6', 140)" class="id">Sql</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs9', 141)" onmouseover="showTip(event, 'fs9', 141)" class="id">Common</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs70', 142)" onmouseover="showTip(event, 'fs70', 142)" class="m">OfflineTools</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs71', 143)" onmouseover="showTip(event, 'fs71', 143)" class="id">CreateMockSqlDataContext</span><span class="pn">&lt;</span><span onmouseout="hideTip(event, 'fs7', 144)" onmouseover="showTip(event, 'fs7', 144)" class="rt">sql</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs35', 145)" onmouseover="showTip(event, 'fs35', 145)" class="id">dataContext</span><span class="pn">&gt;</span> <span onmouseout="hideTip(event, 'fs65', 146)" onmouseover="showTip(event, 'fs65', 146)" class="fn">sampleDataMap</span>

        <span class="k">let!</span> <span onmouseout="hideTip(event, 'fs62', 147)" onmouseover="showTip(event, 'fs62', 147)" class="fn">res</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs33', 148)" onmouseover="showTip(event, 'fs33', 148)" class="fn">someProductionFunction</span> <span onmouseout="hideTip(event, 'fs69', 149)" onmouseover="showTip(event, 'fs69', 149)" class="fn">mockContext</span> <span onmouseout="hideTip(event, 'fs29', 150)" onmouseover="showTip(event, 'fs29', 150)" class="rt">OrderDateFilter</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs30', 151)" onmouseover="showTip(event, 'fs30', 151)" class="id">OrderDate</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs38', 152)" onmouseover="showTip(event, 'fs38', 152)" class="fn">DateTime</span><span class="pn">(</span><span class="n">2024</span><span class="pn">,</span><span class="n">02</span><span class="pn">,</span><span class="n">04</span><span class="pn">)</span><span class="pn">)</span>
        <span class="c">//val res: (string * decimal) list =</span>
        <span class="c">//  [(&quot;75000&quot;, 22M); (&quot;E143AB&quot;, 20M); (&quot;E143AB&quot;, 50M)]        </span>

        <span onmouseout="hideTip(event, 'fs16', 153)" onmouseover="showTip(event, 'fs16', 153)" class="fn">assert_equal</span> <span class="n">3</span> <span onmouseout="hideTip(event, 'fs62', 154)" onmouseover="showTip(event, 'fs62', 154)" class="fn">res</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs72', 155)" onmouseover="showTip(event, 'fs72', 155)" class="id">Length</span>
        <span onmouseout="hideTip(event, 'fs19', 156)" onmouseover="showTip(event, 'fs19', 156)" class="fn">assert_contains</span> <span class="pn">(</span><span class="s">&quot;75000&quot;</span><span class="pn">,</span> <span class="n">22M</span><span class="pn">)</span> <span onmouseout="hideTip(event, 'fs62', 157)" onmouseover="showTip(event, 'fs62', 157)" class="fn">res</span>
        <span onmouseout="hideTip(event, 'fs19', 158)" onmouseover="showTip(event, 'fs19', 158)" class="fn">assert_contains</span> <span class="pn">(</span><span class="s">&quot;E143AB&quot;</span><span class="pn">,</span> <span class="n">20M</span><span class="pn">)</span> <span onmouseout="hideTip(event, 'fs62', 159)" onmouseover="showTip(event, 'fs62', 159)" class="fn">res</span>
        <span onmouseout="hideTip(event, 'fs19', 160)" onmouseover="showTip(event, 'fs19', 160)" class="fn">assert_contains</span> <span class="pn">(</span><span class="s">&quot;E143AB&quot;</span><span class="pn">,</span> <span class="n">50M</span><span class="pn">)</span> <span onmouseout="hideTip(event, 'fs62', 161)" onmouseover="showTip(event, 'fs62', 161)" class="fn">res</span>
    <span class="pn">}</span>
</code></pre>
<p>CreateMockSqlDataContext takes a <code>Map&lt;string,obj&gt;</code> where the <code>string</code> is the table name as in database, and <code>obj</code> is an array of anonymous records.
The mock is meant to help creating data-context objects to enable easier testing of your LINQ-logic, not to test SQLProvider itself.</p>
<p>There are some limitations with the SQLProvider mock a DB-context:</p>
<ul>
<li>The mock-context will not connect the DB, and you can't save entity modifications. SubmitUpdates() will do nothing.</li>
<li>SQLProvider custom operators (like <code>x |=| xs</code> and <code>y %&lt;&gt; "A%"</code>) are not supported. So you have to use LINQ-ones (e.g. <code>xs.Contains x</code> and <code>not y.StartsWith "A"</code>) that do work in SQLProvider as well.</li>
<li>You cannot call database-table <code>.Create</code> methods to create new instances. (You can call update entity columns <code>x.Col &lt;- Some "hi"</code>, but it doesn't really do anything.)</li>
<li>You cannot call stored procedures.</li>
<li>Names are database names, and they are case-sensitive. If you miss a table, in your mock, there will be clear error. If you mistyped anonymous record column name, you will probably just get a zero-result or ValueNone.Value-error or some other unwanted behaviour.</li>
</ul>
<p>If you are running off-line solution like SSDT or ContextSchemaPath, you should be able to run also these unit-tests with your CI.</p>

            <div class="fsdocs-tip" id="fs1">Multiple items<br />type LiteralAttribute =
  inherit Attribute
  new: unit -&gt; LiteralAttribute<br /><em>&lt;summary&gt;Adding this attribute to a value causes it to be compiled as a CLI constant literal.&lt;/summary&gt;<br />&lt;category&gt;Attributes&lt;/category&gt;</em><br /><br />--------------------<br />new: unit -&gt; LiteralAttribute</div>
<div class="fsdocs-tip" id="fs2">[&lt;Literal&gt;]
val resolutionPath: string = &quot;C:\git\SQLProvider\docs\content\core/../../files/sqlite&quot;</div>
<div class="fsdocs-tip" id="fs3">[&lt;Literal&gt;]
val connectionString: string = &quot;Data Source=C:\git\SQLProvider\docs\content\core\..\northwindEF.db;Version=3;Read Only=false;FailIfMissing=True;&quot;</div>
<div class="fsdocs-tip" id="fs4">Multiple items<br />namespace FSharp<br /><br />--------------------<br />namespace Microsoft.FSharp</div>
<div class="fsdocs-tip" id="fs5">Multiple items<br />namespace FSharp.Data<br /><br />--------------------<br />namespace Microsoft.FSharp.Data</div>
<div class="fsdocs-tip" id="fs6">namespace FSharp.Data.Sql</div>
<div class="fsdocs-tip" id="fs7">type sql = SqlDataProvider&lt;...&gt;</div>
<div class="fsdocs-tip" id="fs8">type SqlDataProvider<br /><em>&lt;summary&gt;Typed representation of a database&lt;/summary&gt;
                    &lt;param name=&#39;ConnectionString&#39;&gt;The connection string for the SQL database&lt;/param&gt;
                    &lt;param name=&#39;ConnectionStringName&#39;&gt;The connection string name to select from a configuration file&lt;/param&gt;
                    &lt;param name=&#39;DatabaseVendor&#39;&gt; The target database vendor&lt;/param&gt;
                    &lt;param name=&#39;IndividualsAmount&#39;&gt;The amount of sample entities to project into the type system for each SQL entity type. Default 50. Note GDPR/PII regulations if using individuals with ContextSchemaPath.&lt;/param&gt;
                    &lt;param name=&#39;UseOptionTypes&#39;&gt;If set, F# option types will be used in place of nullable database columns.  If not, you will always receive the default value of the column&#39;s type even if it is null in the database.&lt;/param&gt;
                    &lt;param name=&#39;ResolutionPath&#39;&gt;The location to look for dynamically loaded assemblies containing database vendor specific connections and custom types. Types used in desing-time: If no better clue, prefer .NET Standard 2.0 versions. Semicolon to separate multiple.&lt;/param&gt;
                    &lt;param name=&#39;Owner&#39;&gt;Oracle: The owner of the schema for this provider to resolve. PostgreSQL: A list of schemas to resolve, separated by spaces, newlines, commas, or semicolons.&lt;/param&gt;
                    &lt;param name=&#39;CaseSensitivityChange&#39;&gt;Should we do ToUpper or ToLower when generating table names?&lt;/param&gt;
                    &lt;param name=&#39;TableNames&#39;&gt;Comma separated table names list to limit a number of tables in big instances. The names can have &#39;%&#39; sign to handle it as in the &#39;LIKE&#39; query (Oracle and MSSQL Only)&lt;/param&gt;
                    &lt;param name=&#39;ContextSchemaPath&#39;&gt;The location of the context schema previously saved with SaveContextSchema. When not empty, will be used to populate the database schema instead of retrieving it from then database.&lt;/param&gt;
                    &lt;param name=&#39;OdbcQuote&#39;&gt;Odbc quote characters: Quote characters for the table and column names: `alias`, [alias]&lt;/param&gt;
                    &lt;param name=&#39;SQLiteLibrary&#39;&gt;Use System.Data.SQLite or Mono.Data.SQLite or select automatically (SQLite only)&lt;/param&gt;
                    &lt;param name=&#39;SsdtPath&#39;&gt;A path to an SSDT .dacpac file.&#39;&lt;/param&gt;
                    </em></div>
<div class="fsdocs-tip" id="fs9">namespace FSharp.Data.Sql.Common</div>
<div class="fsdocs-tip" id="fs10">[&lt;Struct&gt;]
type DatabaseProviderTypes =
  | MSSQLSERVER = 0
  | SQLITE = 1
  | POSTGRESQL = 2
  | MYSQL = 3
  | ORACLE = 4
  | MSACCESS = 5
  | ODBC = 6
  | FIREBIRD = 7
  | MSSQLSERVER_DYNAMIC = 8
  | MSSQLSERVER_SSDT = 9</div>
<div class="fsdocs-tip" id="fs11">Common.DatabaseProviderTypes.SQLITE: Common.DatabaseProviderTypes = 1</div>
<div class="fsdocs-tip" id="fs12">[&lt;Struct&gt;]
type SQLiteLibrary =
  | SystemDataSQLite = 0
  | MonoDataSQLite = 1
  | AutoSelect = 2
  | MicrosoftDataSqlite = 3</div>
<div class="fsdocs-tip" id="fs13">Common.SQLiteLibrary.SystemDataSQLite: Common.SQLiteLibrary = 0</div>
<div class="fsdocs-tip" id="fs14">[&lt;Struct&gt;]
type CaseSensitivityChange =
  | ORIGINAL = 0
  | TOUPPER = 1
  | TOLOWER = 2</div>
<div class="fsdocs-tip" id="fs15">Common.CaseSensitivityChange.ORIGINAL: Common.CaseSensitivityChange = 0</div>
<div class="fsdocs-tip" id="fs16">val assert_equal: x: &#39;a -&gt; y: &#39;b -&gt; unit</div>
<div class="fsdocs-tip" id="fs17">val x: &#39;a</div>
<div class="fsdocs-tip" id="fs18">val y: &#39;b</div>
<div class="fsdocs-tip" id="fs19">val assert_contains: x: &#39;a -&gt; y: &#39;b -&gt; unit</div>
<div class="fsdocs-tip" id="fs20">module QueryEvents

from FSharp.Data.Sql.Common</div>
<div class="fsdocs-tip" id="fs21">val SqlQueryEvent: IEvent&lt;Common.QueryEvents.SqlEventData&gt;<br /><em>&lt;summary&gt;
 This event fires immediately before the execution of every generated query. 
 Listen to this event to display or debug the content of your queries.
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs22">Multiple items<br />module Event

from Microsoft.FSharp.Control<br /><em>&lt;summary&gt;Contains operations for working with values of type &lt;see cref=&quot;T:Microsoft.FSharp.Control.IEvent`1&quot; /&gt;.&lt;/summary&gt;<br />&lt;category index=&quot;3&quot;&gt;Events and Observables&lt;/category&gt;</em><br /><br />--------------------<br />type Event&lt;&#39;T&gt; =
  new: unit -&gt; Event&lt;&#39;T&gt;
  member Trigger: arg: &#39;T -&gt; unit
  member Publish: IEvent&lt;&#39;T&gt;<br /><em>&lt;summary&gt;Event implementations for the IEvent&amp;lt;_&amp;gt; type.&lt;/summary&gt;<br />&lt;category index=&quot;3&quot;&gt;Events and Observables&lt;/category&gt;</em><br /><br />--------------------<br />type Event&lt;&#39;Delegate,&#39;Args (requires delegate and &#39;Delegate :&gt; Delegate and reference type)&gt; =
  new: unit -&gt; Event&lt;&#39;Delegate,&#39;Args&gt;
  member Trigger: sender: obj * args: &#39;Args -&gt; unit
  member Publish: IEvent&lt;&#39;Delegate,&#39;Args&gt;<br /><em>&lt;summary&gt;Event implementations for a delegate types following the standard .NET Framework convention of a first &#39;sender&#39; argument.&lt;/summary&gt;<br />&lt;category index=&quot;3&quot;&gt;Events and Observables&lt;/category&gt;</em><br /><br />--------------------<br />new: unit -&gt; Event&lt;&#39;T&gt;<br /><br />--------------------<br />new: unit -&gt; Event&lt;&#39;Delegate,&#39;Args&gt;</div>
<div class="fsdocs-tip" id="fs23">val add: callback: (&#39;T -&gt; unit) -&gt; sourceEvent: IEvent&lt;&#39;Del,&#39;T&gt; -&gt; unit (requires delegate and &#39;Del :&gt; System.Delegate)<br /><em>&lt;summary&gt;Runs the given function each time the given event is triggered.&lt;/summary&gt;<br />&lt;param name=&quot;callback&quot;&gt;The function to call when the event is triggered.&lt;/param&gt;<br />&lt;param name=&quot;sourceEvent&quot;&gt;The input event.&lt;/param&gt;<br />&lt;example&gt;&lt;code lang=&quot;fsharp&quot;&gt;
 open System
 
 let createTimer interval =
     let timer = new Timers.Timer(interval)
     timer.AutoReset &amp;lt;- true
     timer.Enabled &amp;lt;- true
     timer.Elapsed
 
 let timer = createTimer 1000
 
 Event.add (fun (event: Timers.ElapsedEventArgs) -&amp;gt; printfn $&quot;{event.SignalTime} &quot;)  timer
 
 Console.ReadLine() |&amp;gt; ignore
 &lt;/code&gt;
 The sample will output the timer event every second: &lt;c&gt;
 2/14/2022 11:52:05 PM 
 2/14/2022 11:52:06 PM 
 2/14/2022 11:52:07 PM 
 2/14/2022 11:52:08 PM &lt;/c&gt;&lt;/example&gt;</em></div>
<div class="fsdocs-tip" id="fs24">val e: Common.QueryEvents.SqlEventData</div>
<div class="fsdocs-tip" id="fs25">namespace System</div>
<div class="fsdocs-tip" id="fs26">type Console =
  static member Beep: unit -&gt; unit + 1 overload
  static member Clear: unit -&gt; unit
  static member GetCursorPosition: unit -&gt; struct (int * int)
  static member MoveBufferArea: sourceLeft: int * sourceTop: int * sourceWidth: int * sourceHeight: int * targetLeft: int * targetTop: int -&gt; unit + 1 overload
  static member OpenStandardError: unit -&gt; Stream + 1 overload
  static member OpenStandardInput: unit -&gt; Stream + 1 overload
  static member OpenStandardOutput: unit -&gt; Stream + 1 overload
  static member Read: unit -&gt; int
  static member ReadKey: unit -&gt; ConsoleKeyInfo + 1 overload
  static member ReadLine: unit -&gt; string
  ...<br /><em>&lt;summary&gt;Represents the standard input, output, and error streams for console applications. This class cannot be inherited.&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs27">System.Console.WriteLine() : unit<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />System.Console.WriteLine(value: uint64) : unit<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />System.Console.WriteLine(value: uint32) : unit<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />System.Console.WriteLine(value: string) : unit<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />System.Console.WriteLine(value: float32) : unit<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />System.Console.WriteLine(value: obj) : unit<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />System.Console.WriteLine(value: int64) : unit<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />System.Console.WriteLine(value: int) : unit<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />System.Console.WriteLine(value: float) : unit<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />System.Console.WriteLine(value: decimal) : unit<br />&#160;&#160;&#160;<em>(+0 other overloads)</em></div>
<div class="fsdocs-tip" id="fs28">member Common.QueryEvents.SqlEventData.ToRawSqlWithParamInfo: unit -&gt; string</div>
<div class="fsdocs-tip" id="fs29">type OrderDateFilter =
  | OrderDate
  | ShippedDate
  | Either</div>
<div class="fsdocs-tip" id="fs30">union case OrderDateFilter.OrderDate: OrderDateFilter</div>
<div class="fsdocs-tip" id="fs31">union case OrderDateFilter.ShippedDate: OrderDateFilter</div>
<div class="fsdocs-tip" id="fs32">union case OrderDateFilter.Either: OrderDateFilter</div>
<div class="fsdocs-tip" id="fs33">val someProductionFunction: ctx: SqlDataProvider&lt;...&gt;.dataContext -&gt; orderType: OrderDateFilter -&gt; untilDate: DateTime -&gt; Threading.Tasks.Task&lt;(string * decimal)[]&gt;</div>
<div class="fsdocs-tip" id="fs34">val ctx: SqlDataProvider&lt;...&gt;.dataContext</div>
<div class="fsdocs-tip" id="fs35">type dataContext =
  member ClearUpdates: unit -&gt; List&lt;SqlEntity&gt;
  member CreateConnection: unit -&gt; IDbConnection
  member GetUpdates: unit -&gt; List&lt;SqlEntity&gt;
  member SaveContextSchema: unit -&gt; SaveContextResponse
  member SubmitUpdates: unit -&gt; Unit
  member SubmitUpdatesAsync: unit -&gt; Task
  member ``Design Time Commands`` : DesignTimeCommands
  member Main: mainSchema
  member Pragma: Pragma
  nested type DesignTimeCommands
  ...</div>
<div class="fsdocs-tip" id="fs36">val orderType: OrderDateFilter</div>
<div class="fsdocs-tip" id="fs37">val untilDate: DateTime</div>
<div class="fsdocs-tip" id="fs38">Multiple items<br />[&lt;Struct&gt;]
type DateTime =
  new: year: int * month: int * day: int -&gt; unit + 10 overloads
  member Add: value: TimeSpan -&gt; DateTime
  member AddDays: value: float -&gt; DateTime
  member AddHours: value: float -&gt; DateTime
  member AddMilliseconds: value: float -&gt; DateTime
  member AddMinutes: value: float -&gt; DateTime
  member AddMonths: months: int -&gt; DateTime
  member AddSeconds: value: float -&gt; DateTime
  member AddTicks: value: int64 -&gt; DateTime
  member AddYears: value: int -&gt; DateTime
  ...<br /><em>&lt;summary&gt;Represents an instant in time, typically expressed as a date and time of day.&lt;/summary&gt;</em><br /><br />--------------------<br />DateTime ()<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />DateTime(ticks: int64) : DateTime<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />DateTime(ticks: int64, kind: DateTimeKind) : DateTime<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />DateTime(year: int, month: int, day: int) : DateTime<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />DateTime(year: int, month: int, day: int, calendar: Globalization.Calendar) : DateTime<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />DateTime(year: int, month: int, day: int, hour: int, minute: int, second: int) : DateTime<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />DateTime(year: int, month: int, day: int, hour: int, minute: int, second: int, kind: DateTimeKind) : DateTime<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />DateTime(year: int, month: int, day: int, hour: int, minute: int, second: int, calendar: Globalization.Calendar) : DateTime<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />DateTime(year: int, month: int, day: int, hour: int, minute: int, second: int, millisecond: int) : DateTime<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />DateTime(year: int, month: int, day: int, hour: int, minute: int, second: int, millisecond: int, kind: DateTimeKind) : DateTime<br />&#160;&#160;&#160;<em>(+0 other overloads)</em></div>
<div class="fsdocs-tip" id="fs39">val task: TaskBuilder<br /><em>&lt;summary&gt;
 Builds a task using computation expression syntax.
 &lt;/summary&gt;<br />&lt;example-tbd&gt;&lt;/example-tbd&gt;</em></div>
<div class="fsdocs-tip" id="fs40">val ignoreOrderDate: bool</div>
<div class="fsdocs-tip" id="fs41">val ignoreShippedDate: bool</div>
<div class="fsdocs-tip" id="fs42">val tomorrow: DateTime</div>
<div class="fsdocs-tip" id="fs43">DateTime.AddDays(value: float) : DateTime</div>
<div class="fsdocs-tip" id="fs44">union case CanonicalOp.Date: CanonicalOp</div>
<div class="fsdocs-tip" id="fs45">val someLegacyCondition: int</div>
<div class="fsdocs-tip" id="fs46">val itms: Linq.IQueryable&lt;string * decimal&gt;</div>
<div class="fsdocs-tip" id="fs47">val query: Linq.QueryBuilder<br /><em>&lt;summary&gt;Builds a query using query syntax and operators.&lt;/summary&gt;<br />&lt;example id=&quot;query-1&quot;&gt;&lt;code lang=&quot;fsharp&quot;&gt;
 let findEvensAndSortAndDouble(xs: System.Linq.IQueryable&amp;lt;int&amp;gt;) =
     query {
         for x in xs do
         where (x % 2 = 0)
         sortBy x
         select (x+x)
      }

 let data = [1; 2; 6; 7; 3; 6; 2; 1]

 findEvensAndSortAndDouble (data.AsQueryable()) |&amp;gt; Seq.toList
 &lt;/code&gt;
 Evaluates to &lt;c&gt;[4; 4; 12; 12]&lt;/c&gt;.
 &lt;/example&gt;</em></div>
<div class="fsdocs-tip" id="fs48">val order: SqlDataProvider&lt;...&gt;.dataContext.main.OrdersEntity</div>
<div class="fsdocs-tip" id="fs49">property SqlDataProvider&lt;...&gt;.dataContext.Main: SqlDataProvider&lt;...&gt;.dataContext.mainSchema with get</div>
<div class="fsdocs-tip" id="fs50">property SqlDataProvider&lt;...&gt;.dataContext.mainSchema.Orders: SqlDataProvider&lt;...&gt;.dataContext.mainSchema.main.Orders with get<br /><em>&lt;summary&gt;  The table Orders belonging to schema main&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs51">custom operation: join var in collection on (outerKey = innerKey). Note that parentheses are required after &#39;on&#39;

Calls Linq.QueryBuilder.Join<br /><em>&lt;summary&gt;A query operator that correlates two sets of selected values based on matching keys. 
 Normal usage is &#39;join y in elements2 on (key1 = key2)&#39;. 
 &lt;/summary&gt;<br />&lt;example-tbd&gt;&lt;/example-tbd&gt;</em></div>
<div class="fsdocs-tip" id="fs52">val cust: SqlDataProvider&lt;...&gt;.dataContext.main.CustomersEntity</div>
<div class="fsdocs-tip" id="fs53">property SqlDataProvider&lt;...&gt;.dataContext.mainSchema.Customers: SqlDataProvider&lt;...&gt;.dataContext.mainSchema.main.Customers with get<br /><em>&lt;summary&gt;  The table Customers belonging to schema main&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs54">property SqlDataProvider&lt;...&gt;.dataContext.main.CustomersEntity.CustomerId: string with get, set<br /><em>&lt;summary&gt;CustomerID:   nchar(5)&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs55">custom operation: where (bool)

Calls Linq.QueryBuilder.Where<br /><em>&lt;summary&gt;A query operator that selects those elements based on a specified predicate. 
 &lt;/summary&gt;<br />&lt;example-tbd&gt;&lt;/example-tbd&gt;</em></div>
<div class="fsdocs-tip" id="fs56">property SqlDataProvider&lt;...&gt;.dataContext.main.CustomersEntity.City: string with get, set<br /><em>&lt;summary&gt;City:   nvarchar(15)&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs57">property SqlDataProvider&lt;...&gt;.dataContext.main.OrdersEntity.OrderDate: DateTime with get, set<br /><em>&lt;summary&gt;OrderDate:   datetime&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs58">property SqlDataProvider&lt;...&gt;.dataContext.main.OrdersEntity.ShippedDate: DateTime with get, set<br /><em>&lt;summary&gt;ShippedDate:   datetime&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs59">property SqlDataProvider&lt;...&gt;.dataContext.main.OrdersEntity.Freight: decimal with get, set<br /><em>&lt;summary&gt;Freight:   money&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs60">custom operation: select (&#39;Result)

Calls Linq.QueryBuilder.Select<br /><em>&lt;summary&gt;A query operator that projects each of the elements selected so far.
 &lt;/summary&gt;<br />&lt;example-tbd&gt;&lt;/example-tbd&gt;</em></div>
<div class="fsdocs-tip" id="fs61">property SqlDataProvider&lt;...&gt;.dataContext.main.CustomersEntity.PostalCode: string with get, set<br /><em>&lt;summary&gt;PostalCode:   nvarchar(10)&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs62">val res: (string * decimal)[]</div>
<div class="fsdocs-tip" id="fs63">type Array =
  interface ICollection
  interface IEnumerable
  interface IList
  interface IStructuralComparable
  interface IStructuralEquatable
  interface ICloneable
  member Clone: unit -&gt; obj
  member CopyTo: array: Array * index: int -&gt; unit + 1 overload
  member GetEnumerator: unit -&gt; IEnumerator
  member GetLength: dimension: int -&gt; int
  ...<br /><em>&lt;summary&gt;Provides methods for creating, manipulating, searching, and sorting arrays, thereby serving as the base class for all arrays in the common language runtime.&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs64">val executeQueryAsync: query: Linq.IQueryable&lt;&#39;a&gt; -&gt; Threading.Tasks.Task&lt;&#39;a[]&gt;<br /><em>&lt;summary&gt;
 Execute SQLProvider query and release the OS thread while query is being executed.
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs65">val sampleDataMap: Map&lt;string,obj&gt;</div>
<div class="fsdocs-tip" id="fs66">type obj = Object<br /><em>&lt;summary&gt;An abbreviation for the CLI type &lt;see cref=&quot;T:System.Object&quot; /&gt;.&lt;/summary&gt;<br />&lt;category&gt;Basic Types&lt;/category&gt;</em></div>
<div class="fsdocs-tip" id="fs67">Multiple items<br />module Map

from Microsoft.FSharp.Collections<br /><em>&lt;summary&gt;Contains operations for working with values of type &lt;see cref=&quot;T:Microsoft.FSharp.Collections.FSharpMap`2&quot; /&gt;.&lt;/summary&gt;</em><br /><br />--------------------<br />type Map&lt;&#39;Key,&#39;Value (requires comparison)&gt; =
  interface IReadOnlyDictionary&lt;&#39;Key,&#39;Value&gt;
  interface IReadOnlyCollection&lt;KeyValuePair&lt;&#39;Key,&#39;Value&gt;&gt;
  interface IEnumerable
  interface IComparable
  interface IEnumerable&lt;KeyValuePair&lt;&#39;Key,&#39;Value&gt;&gt;
  interface ICollection&lt;KeyValuePair&lt;&#39;Key,&#39;Value&gt;&gt;
  interface IDictionary&lt;&#39;Key,&#39;Value&gt;
  new: elements: seq&lt;&#39;Key * &#39;Value&gt; -&gt; Map&lt;&#39;Key,&#39;Value&gt;
  member Add: key: &#39;Key * value: &#39;Value -&gt; Map&lt;&#39;Key,&#39;Value&gt;
  member Change: key: &#39;Key * f: (&#39;Value option -&gt; &#39;Value option) -&gt; Map&lt;&#39;Key,&#39;Value&gt;
  ...<br /><em>&lt;summary&gt;Immutable maps based on binary trees, where keys are ordered by F# generic comparison. By default
 comparison is the F# structural comparison function or uses implementations of the IComparable interface on key values.&lt;/summary&gt;<br />&lt;remarks&gt;See the &lt;see cref=&quot;T:Microsoft.FSharp.Collections.MapModule&quot; /&gt; module for further operations on maps.

 All members of this class are thread-safe and may be used concurrently from multiple threads.&lt;/remarks&gt;</em><br /><br />--------------------<br />new: elements: seq&lt;&#39;Key * &#39;Value&gt; -&gt; Map&lt;&#39;Key,&#39;Value&gt;</div>
<div class="fsdocs-tip" id="fs68">val ofList: elements: (&#39;Key * &#39;T) list -&gt; Map&lt;&#39;Key,&#39;T&gt; (requires comparison)<br /><em>&lt;summary&gt;Returns a new map made from the given bindings.&lt;/summary&gt;<br />&lt;param name=&quot;elements&quot;&gt;The input list of key/value pairs.&lt;/param&gt;<br />&lt;returns&gt;The resulting map.&lt;/returns&gt;<br />&lt;example id=&quot;oflist-1&quot;&gt;&lt;code lang=&quot;fsharp&quot;&gt;
 let input = [ (1, &quot;a&quot;); (2, &quot;b&quot;) ]

 input |&amp;gt; Map.ofList // evaluates to map [(1, &quot;a&quot;); (2, &quot;b&quot;)]
 &lt;/code&gt;&lt;/example&gt;</em></div>
<div class="fsdocs-tip" id="fs69">val mockContext: SqlDataProvider&lt;...&gt;.dataContext</div>
<div class="fsdocs-tip" id="fs70">module OfflineTools

from FSharp.Data.Sql.Common</div>
<div class="fsdocs-tip" id="fs71">val CreateMockSqlDataContext: dummydata: Map&lt;string,obj&gt; -&gt; &#39;T<br /><em>&lt;summary&gt;
 This can be used for testing. Creates fake DB-context entities..
 Example: FSharp.Data.Sql.Common.OfflineTools.CreateMockSqlDataContext [&quot;schema.MyTable1&quot;; [| {| MyColumn1 = &quot;a&quot;; MyColumn2 = 0 |} |] :&amp;gt; obj] |&amp;gt; Map.ofList
 See project unit-test for more examples.
 NOTE: Case-sensitivity. Tables and columns are DB-names, not Linq-names.
 Limitation of mockContext: You cannot Create new entities to the mock context.
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs72">property Array.Length: int with get<br /><em>&lt;summary&gt;Gets the total number of elements in all the dimensions of the &lt;see cref=&quot;T:System.Array&quot; /&gt;.&lt;/summary&gt;<br />&lt;exception cref=&quot;T:System.OverflowException&quot;&gt;The array is multidimensional and contains more than &lt;see cref=&quot;F:System.Int32.MaxValue&quot; /&gt; elements.&lt;/exception&gt;<br />&lt;returns&gt;The total number of elements in all the dimensions of the &lt;see cref=&quot;T:System.Array&quot; /&gt;; zero if there are no elements in the array.&lt;/returns&gt;</em></div>

        </div>

        <!-- BEGIN SEARCH BOX: this adds support for the search box -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/JavaScript-autoComplete/1.0.4/auto-complete.css" />
        <script type="text/javascript">var fsdocs_search_baseurl = 'https://fsprojects.github.io/SQLProvider/';</script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/lunr.js/2.3.8/lunr.min.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/JavaScript-autoComplete/1.0.4/auto-complete.min.js"></script>
        <script type="text/javascript" src="https://fsprojects.github.io/SQLProvider/content/fsdocs-search.js"></script>
        <!-- END SEARCH BOX: this adds support for the search box -->
    </div>
</body>

</html>