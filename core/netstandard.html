<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>.NET Standard / .NET Core support
</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="author" content="pezipink,colinbull,thorium">

    <link rel="stylesheet" id="theme_link" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/4.6.0/materia/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-Piv4xVNRyMGpqkS2by6br4gNJ7DXjqk09RmUpJ8jgGtD7zP9yug3goQfGII0yAns" crossorigin="anonymous"></script>

    <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>

    <link rel="shortcut icon" type="image/x-icon" href="https://fsprojects.github.io/SQLProvider//img/favicon.ico">
    <link type="text/css" rel="stylesheet" href="https://fsprojects.github.io/SQLProvider//content/navbar-fixed-right.css" />
    <link type="text/css" rel="stylesheet" href="https://fsprojects.github.io/SQLProvider//content/fsdocs-default.css" />
    <link type="text/css" rel="stylesheet" href="https://fsprojects.github.io/SQLProvider//content/fsdocs-custom.css" />
    <script type="text/javascript" src="https://fsprojects.github.io/SQLProvider//content/fsdocs-tips.js"></script>
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!-- BEGIN SEARCH BOX: this adds support for the search box -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/JavaScript-autoComplete/1.0.4/auto-complete.css" />
    <!-- END SEARCH BOX: this adds support for the search box -->
    
	<style>
		#fsdocs-content li {
			margin: 0px 0px 5px 0px;
		}
		.navbar-nav .nav-link {
			padding-top: 0.2rem;
			padding-bottom: 0.2rem;
		}
	</style>
</head>

<body>
	<a href="http://github.com/fsprojects/SQLProvider"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png" alt="Fork me on GitHub"></a>

    <nav class="navbar navbar-expand-md navbar-light bg-secondary fixed-right" id="fsdocs-nav">
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExampleDefault" aria-controls="navbarsExampleDefault" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse navbar-nav-scroll" id="navbarsExampleDefault">

            <ul class="navbar-nav">
                <a href="https://fsprojects.github.io/SQLProvider/"><li class="nav-header" style="text-transform: uppercase">SQLProvider</li></a>
                <li class="nav-item" id="fsdocs-repository-link"><a class="nav-link" href="https://www.nuget.org/packages/SQLProvider">Get Library via NuGet</a></li>
				<li class="nav-item" id="fsdocs-repository-link"><a class="nav-link" href="https://github.com/fsprojects/SQLProvider/">Source Code on GitHub</a></li>
                <li class="nav-item" id="fsdocs-license-link"><a class="nav-link" href="https://github.com/fsprojects/SQLProvider/blob/master/LICENSE.txt">License</a></li>
                <li class="nav-item" id="fsdocs-release-notes-link"><a class="nav-link" href="https://github.com/fsprojects/SQLProvider/blob/master/docs/RELEASE_NOTES.md">Release Notes</a></li>
								
				<li class="nav-header" style="text-transform: uppercase">
					Documentation
				</li>
				<li class="nav-item"><a href="https://fsprojects.github.io/SQLProvider//core/general.html" class="nav-link">General</a></li>
				<li class="nav-item"><a href="https://fsprojects.github.io/SQLProvider//core/parameters.html" class="nav-link">Static Parameters</a></li>
				<li class="nav-item"><a href="https://fsprojects.github.io/SQLProvider//core/querying.html" class="nav-link">Querying</a></li>
				<li class="nav-item"><a href="https://fsprojects.github.io/SQLProvider//core/constraints-relationships.html" class="nav-link">Constraints & Relationships</a></li>
				<li class="nav-item"><a href="https://fsprojects.github.io/SQLProvider//core/crud.html" class="nav-link">CRUD</a></li>
				<li class="nav-item"><a href="https://fsprojects.github.io/SQLProvider//core/programmability.html" class="nav-link">Programmability</a></li>
				<li class="nav-item"><a href="https://fsprojects.github.io/SQLProvider//core/individuals.html" class="nav-link">Individuals</a></li>
				<li class="nav-item"><a href="https://fsprojects.github.io/SQLProvider//core/composable.html" class="nav-link">Composable Query</a></li>
				<li class="nav-item"><a href="https://fsprojects.github.io/SQLProvider//core/mssql.html" class="nav-link">SQL Server</a></li>
				<li class="nav-item"><a href="https://fsprojects.github.io/SQLProvider//core/oracle.html" class="nav-link">Oracle</a></li>
				<li class="nav-item"><a href="https://fsprojects.github.io/SQLProvider//core/sqlite.html" class="nav-link">SQLite</a></li>
				<li class="nav-item"><a href="https://fsprojects.github.io/SQLProvider//core/postgresql.html" class="nav-link">PostgreSQL</a></li>
				<li class="nav-item"><a href="https://fsprojects.github.io/SQLProvider//core/mysql.html" class="nav-link">MySQL</a></li>
				<li class="nav-item"><a href="https://fsprojects.github.io/SQLProvider//core/odbc.html" class="nav-link">ODBC</a></li>
				<li class="nav-item"><a href="https://fsprojects.github.io/SQLProvider//reference/index.html" class="nav-link">Internal API Docs</a></li>

                <li class="nav-header">
  API Reference
</li>             
<li class="nav-item">
  <a class="nav-link" href="https://fsprojects.github.io/SQLProvider/reference/index.html">
    All Namespaces
  </a>
</li>
            </ul>
			
            <!-- BEGIN SEARCH BOX: this adds support for the search box -->
            <div id="header">
                <div class="searchbox" id="fsdocs-searchbox">
                    <label for="search-by">
                        <i class="fas fa-search"></i>
                    </label>
                    <input data-search-input="" id="search-by" type="search" placeholder="Search..." />
                    <span data-search-clear="">
                        <i class="fas fa-times"></i>
                    </span>
                </div>
            </div>

            <!-- END SEARCH BOX: this adds support for the search box -->
        </div>
    </nav>
    <div class="container">
        <div class="masthead">
            <h3 class="muted"><a href="https://fsprojects.github.io/SQLProvider/">SQLProvider</a></h3>
        </div>
        <hr />
        <div class="container" id="fsdocs-content">
            <h1><a name="NET-Standard-NET-Core-support" class="anchor" href="#NET-Standard-NET-Core-support">.NET Standard / .NET Core support</a></h1>
<p>This is very initial / experimental, from version 1.1.18.</p>
<p>Install e.g. with: <code>dotnet add package SQLProvider --version 1.1.18</code></p>
<p>You will need some configuration to your project files, see the examples.
- You need a path to fsc.
- You need your database driver and dependency dlls to resolutionPath-folder.</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span onmouseout="hideTip(event, 'fs1', 1)" onmouseover="showTip(event, 'fs1', 1)" class="id">Core</span> <span class="o">/</span> <span class="id">NetStandard</span><span class="pn">:</span>
                     <span class="pn">|</span> <span class="id">Win10</span> <span class="pn">|</span> <span class="id">Mac</span>  <span class="pn">|</span> <span class="id">Ubuntu</span> <span class="pn">(</span><span class="id">needs</span> <span class="id">sudo</span><span class="pn">)</span> <span class="pn">|</span> <span class="id">Comments</span>   <span class="pn">|</span> 
<span onmouseout="hideTip(event, 'fs2', 2)" onmouseover="showTip(event, 'fs2', 2)" class="id">Microsoft</span> <span class="id">SQL</span> <span class="id">Server</span> <span class="pn">|</span> <span class="pn">[</span><span class="id">x</span><span class="pn">]</span>   <span class="pn">|</span> <span class="pn">[</span><span class="id">x</span><span class="pn">]</span>  <span class="pn">|</span> <span class="pn">[</span><span class="id">x</span><span class="pn">]</span>        <span class="pn">|</span> <span class="id">See</span> <span class="id">prebuild</span> <span onmouseout="hideTip(event, 'fs3', 3)" onmouseover="showTip(event, 'fs3', 3)" class="id">task</span><span class="pn">.</span> <span class="pn">|</span>
<span class="id">Postgres</span>             <span class="pn">|</span> <span class="pn">[</span><span class="id">x</span><span class="pn">]</span>   <span class="pn">|</span> <span class="pn">[</span><span class="id">x</span><span class="pn">]</span>  <span class="pn">|</span> <span class="pn">[</span><span class="id">x</span><span class="pn">]</span>        <span class="pn">|</span> <span class="id">See</span> <span class="id">post</span><span class="o">-</span><span class="id">build</span> <span onmouseout="hideTip(event, 'fs3', 4)" onmouseover="showTip(event, 'fs3', 4)" class="id">task</span><span class="pn">.</span> <span class="pn">|</span>
<span class="id">MySQL</span> <span class="o">/</span> <span class="id">MariaDB</span>      <span class="pn">|</span> <span class="pn">[</span><span class="id">x</span><span class="pn">]</span>   <span class="pn">|</span> <span class="pn">[</span><span class="id">x</span><span class="pn">]</span>  <span class="pn">|</span> <span class="pn">[</span><span class="id">x</span><span class="pn">]</span>        <span class="pn">|</span> <span class="id">See</span> <span class="id">post</span><span class="o">-</span><span class="id">build</span> <span onmouseout="hideTip(event, 'fs3', 5)" onmouseover="showTip(event, 'fs3', 5)" class="id">task</span><span class="pn">.</span> <span class="pn">|</span>
<span class="id">SQLite</span>               <span class="pn">|</span> <span class="pn">[</span><span class="id">x</span><span class="pn">]</span>   <span class="pn">|</span>      <span class="pn">|</span>            <span class="pn">|</span> <span class="id">See</span> <span class="id">post</span><span class="o">-</span><span class="id">build</span> <span onmouseout="hideTip(event, 'fs3', 6)" onmouseover="showTip(event, 'fs3', 6)" class="id">task</span><span class="pn">.</span> <span class="id">Builds</span> <span class="id">on</span> <span class="id">Win</span><span class="pn">,</span> <span class="id">runs</span> <span class="id">on</span> <span class="id">all</span> <span class="pn">|</span>
<span class="id">FireBird</span>             <span class="pn">|</span>  <span class="o">?</span>    <span class="pn">|</span>  <span class="o">?</span>   <span class="pn">|</span>  <span class="o">?</span>         <span class="pn">|</span> <span class="id">Not</span> <span class="id">tested</span><span class="pn">.</span> <span class="pn">|</span>
<span class="id">Oracle</span>               <span class="pn">|</span>       <span class="pn">|</span>      <span class="pn">|</span>            <span class="pn">|</span> <span class="id">No</span> <span class="id">ODP</span><span class="pn">.</span><span class="id">NET</span><span class="o">-</span><span class="id">driver</span> <span class="id">yet</span><span class="pn">.</span> <span class="pn">|</span>
<span class="id">Odbc</span>                 <span class="pn">|</span>       <span class="pn">|</span>      <span class="pn">|</span>            <span class="pn">|</span> <span class="id">Not</span> <span class="id">supported</span><span class="pn">.</span> <span class="pn">|</span>
<span class="id">Access</span>               <span class="pn">|</span>       <span class="pn">|</span>      <span class="pn">|</span>            <span class="pn">|</span> <span class="id">Not</span> <span class="id">supported</span><span class="pn">.</span> <span class="pn">|</span>

<span class="pn">.</span><span class="id">NET</span> <span class="n">4.5</span><span class="pn">.</span><span class="n">1</span> <span class="o">/</span> <span class="id">Mono</span><span class="pn">:</span> <span class="id">All</span> <span class="id">should</span> <span class="id">work</span><span class="pn">.</span>
</code></pre>
<h2><a name="Example-projects" class="anchor" href="#Example-projects">Example projects</a></h2>
<p>There are some example .NET-Coreapp 2.0 projects at: <a href="https://github.com/fsprojects/SQLProvider/tree/master/tests/SqlProvider.Core.Tests">tests\SqlProvider.Core.Tests</a></p>
<p>There is a build.cmd which runs as follows:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="id">dotnet</span> <span class="id">restore</span>
<span class="id">dotnet</span> <span class="id">build</span>
<span class="id">dotnet</span> <span class="id">run</span>
</code></pre>
<h2><a name="Limitations" class="anchor" href="#Limitations">Limitations</a></h2>
<p>You need your database connection driver to also support .NET Core.
If your database connection driver has external dependencies, they have to be also present
(e.g. a project prebuild-task to move them to resolution path).</p>
<p>Connection string can be passed as hard-coded static parameter (development) or <code>GetDataContext(connectionstring)</code> parameter on runtime, but fetching it automatically from the application configuration is not supported.</p>
<p>The target frameworks are defined in the project file: <code>&lt;TargetFrameworks&gt;net461;netcoreapp2.0;netstandard2.0&lt;/TargetFrameworks&gt;</code>
Corresponding files goes to root bin paths, e.g.: \bin\netstandard2.0</p>
<h4><a name="Microsoft-Sql-Server" class="anchor" href="#Microsoft-Sql-Server">Microsoft Sql Server</a></h4>
<p>If you plan to run Microsoft SQL Server, you need a dependency to System.Data.SqlClient and a post-build task to
copy correct dll from under <code>System.Data.SqlClient\runtimes\...\</code> to your execution folder.</p>
<h4><a name="MySql" class="anchor" href="#MySql">MySql</a></h4>
<p>MySQL is using MySQLConnector.
Alternative is to use provided custom build of MySQL.Data.dll (6.10-rc) compiled from sources to .Net Standard 2.0.
As the official MySQL.Data.dll does not support .NET Standard 2.0. See: <a href="https://bugs.mysql.com/bug.php?id=88016">https://bugs.mysql.com/bug.php?id=88016</a></p>
<h4><a name="SQLite" class="anchor" href="#SQLite">SQLite</a></h4>
<p>SQLite is using Microsoft.Data.Sqlite library which has dependency to non-managed e_sqlite3.dll.
Ensure that the correct platform specific file is found either from referencePath or PATH environment variable.</p>
<p>Due to lack of Mono-support in Microsoft.Data.SQLite and Core-support in System.Data.SQLite, there is no
common driver that could work on both environments. That's why build is not possible with Mac/Ubuntu.
Microsoft.Data.Sqlite.Core.Backport could maybe work, not tested.</p>
<h4><a name="Non-Windows-environment-Mac-Ubuntu-Linux" class="anchor" href="#Non-Windows-environment-Mac-Ubuntu-Linux">Non-Windows environment (Mac / Ubuntu / Linux / ...)</a></h4>
<p>On Windows you can reference .NET Standard 2.0 dlls in FSharp interactive but in Osx or Linux you cannot as Mono is not .NET Standard 2.0 compatible.</p>
<p>Non-Windows typeprovider will call Mono on compile-time. Mono will use .Net 4.5.1 libraries.
Typeprovider handles that on compilation, and after compile your assembly will ve .NET Core compatible.
But your compilation resolutionPath reference assemblies have to be .Net 4.5.1 version and your build folder
have to have core references, e.g. via PackageReferences.</p>
<p>On Ubuntu you probably have to use sudo for both dotnet restore and dotnet build.
If you forgot the sudo, try to remove bin and obj folders and then run restore again.</p>
<h2><a name="Some-Technical-Details" class="anchor" href="#Some-Technical-Details">Some Technical Details</a></h2>
<p>.NET Standard solution is located at <code>/src/SQLProvider.Standard/SQLProvider.Standard.fsproj</code></p>
<p>The following files is needed to the NuGet package, from the .NET Standard SDK:
netstandard.dll, System.Console.dll, System.IO.dll, System.Reflection.dll, System.Runtime.dll</p>
<p>You can find net461 versions of them by default from (e.g. 2.0.0, can be also something else like 2.0.2):
Win: <code>C:\Program Files\dotnet\sdk\2.0.0\Microsoft\Microsoft.NET.Build.Extensions\net461\lib\</code>
Others: <code>/usr/local/share/dotnet/sdk/2.0.0/Microsoft/Microsoft.NET.Build.Extensions/net461/lib</code></p>
<p>and also System.Data.SqlClient.dll from that NuGet package.</p>
<p>The NuGet cache is located at:
Win: <code>C:\Users\(your-user-name)\.nuget\packages\SQLProvider\</code>
Others: <code>~/.nuget/packages/SQLProvider/</code></p>

            <div class="fsdocs-tip" id="fs1">namespace Microsoft.FSharp.Core</div>
<div class="fsdocs-tip" id="fs2">namespace Microsoft</div>
<div class="fsdocs-tip" id="fs3">val task: TaskBuilder<br /><em>&lt;summary&gt;
 Builds a task using computation expression syntax.
 &lt;/summary&gt;<br />&lt;example-tbd&gt;&lt;/example-tbd&gt;</em></div>

        </div>

        <!-- BEGIN SEARCH BOX: this adds support for the search box -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/JavaScript-autoComplete/1.0.4/auto-complete.css" />
        <script type="text/javascript">var fsdocs_search_baseurl = 'https://fsprojects.github.io/SQLProvider/';</script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/lunr.js/2.3.8/lunr.min.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/JavaScript-autoComplete/1.0.4/auto-complete.min.js"></script>
        <script type="text/javascript" src="https://fsprojects.github.io/SQLProvider/content/fsdocs-search.js"></script>
        <!-- END SEARCH BOX: this adds support for the search box -->
    </div>
</body>

</html>